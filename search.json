[{"title":"从Unity到UE的早期经验总结","url":"/2025/08/02/Tech/%E4%BB%8EUnity%E5%88%B0UE%E7%9A%84%E6%97%A9%E6%9C%9F%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/","content":"背景最近重新拾起UE学习一段时间了，发现再次学习感悟确实比一开始多。并且逐渐发现了引擎的共通之处。故撰此文章来进行梳理，以引导后来的朋友，解我当初不能解之疑惑。\n毕竟当时我从Unity开始往UE转的时候，真的各种不习惯，也想着找一个别人总结的经验贴，但是当时感觉这些博客的比较太过公式化（也就是罗列各种API，仅仅是在UE C++中复刻Unity中的C#代码）。但忽略了我们真正的疑惑和需求。\n\n所以，我希望能从更加接近引擎设计逻辑的角度去探讨他们的不同，以及从一个具体的例子来指导我们逐步认识UE\n\n粗略对比编辑器文件组织结构Unity组织结构是一个Asset里面放置当前项目的所有资产和代码，当你打开一个unitypackage的时候，Unity会帮你直接导入到Asset文件夹，而UE这边则是导入Content文件夹。\n我们当然可以把Content当做Asset去使用，但是UE其实是提醒我们：\n\n我们自己的文件和资源也要创建一个文件夹，名字就是我们项目名称，这样我们的资源和Content资源就可以完全分开，我们需要什么，再去复制那一部分资源即可。\n\n场景视图以及游戏对象Unity的场景视图内的GameObject我们可以随意修改他们的父子关系，可是在UE里面并不容易，因此之前在Unity中使用的灵活的给不同物体创建脚本，甚至在游戏运行过程中在场景视图里面再去轻松的启用和关闭脚本、改变物体父子关系等等，就显得不那么适用。\n而这就引出了Unity和UE对待游戏对象很大的不同\n\nUnity开发者更喜欢组合的开发模式，把功能分散到各个脚本中，而脚本又分散到各个物体上，因为创造脚本很容易，并且每个脚本都能充分调用Unity的功能，再给自己加上各种组件。\n而UE开发者大部分时间用的是继承，比如创建一个个蓝图类去继承C++类，对于喜欢纯C++开发逻辑的我，比较倾向于将蓝图类比为Unity里面的Prefab，因为我的逻辑主要用C++实现，而创建蓝图，主要是为了将他们作为实例化对象，并且修改一些绑定的资源。\n\n引擎现有代码对于这一部分，我并没有做完整充分的调研，就个人感觉而言，Unity很多代码似乎集中在编辑器部分，这使得Unity的编辑器很稳定而且很好用。但UE的代码很多都集中在各种实用的功能上，比如一个自带的第三人称控制器，里面甚至包含了联机需要的代码。\n所以如果我们的目的单纯是制作游戏，那么当我们熟悉UE之后，做出一个功能完善的游戏是更加容易的。\n我们要写的代码正因为UE为我们添加了那么多功能和限定，让我们自己想要开始写功能的时候，最好的方案不是从零开始，而是先学习正确的使用方法，然后再编写代码。\n好在现在AI工具非常强大，并且虚幻官方的论坛也有很多问题的答案。因此我们要做的就是熟悉虚幻给我们的各种类。\n比如当我想要制作一个人物控制器的时候，涉及到的类就包括动画蓝图、角色控制器、SkeletalMesh，Montage、blend space等等，当然这些功能我们在学Unity的时候也是一点点学的，所以接受就好了，记住他们一般的作用流程。\n最关键的是当我们想要真正写自己的C++代码的时候，我们得在.h文件里面定义变量，通常是一些资产、一些组件的引用等等，这些名字我们要了解，可以从蓝图里面去找对应的名字。随后我们在.cpp文件中实例化这些组件，使用这些组件，并且可以通过方法改变这些组件的父子关系。\n\n不同于Unity中我们可以轻松的将组件和游戏对象区分开，这里我们要记得AActor是类似于GameObject的存在，但是Component也有可能是一个拥有自己Transform和独特功能的类似GameObject的存在，但是他们并不相同，比如AttachToComponent和AttachToActor，可以分别做到将一个对象转移到Component或者Actor的下面。（将一个物体转移到Component下？这在Unity是无法想象的）\n\n有时候蓝图里面的方法想要在C++使用并不方便，但是坚持用C++能让对象的引用关系和逻辑变得清晰。所以这里只能通过逐渐学习来熟悉API。\n以一个例子来详细对比\n比如说我们要实现一个第三人称射击游戏：\n\n在Unity中我们会创建一个空物体，然后给他绑定上碰撞体，动画器，再给他加一个子物体，显示出角色蒙皮，我们下载好动画资源并改为humanoid，就可以和角色适配上。但是在UE里，我们的动画需要经过重定向操作（相比还是挺耗时的）以更好的适配动画数据。\nUnity我们在动画器里面做出各种状态过渡，然后用C#代码给这些过渡条件提供值或者触发，而UE里面AnimInstance类就是动画器，我们创建一个C++代码继承它之后，它的成员就可以暴露给自己的蓝图子类，在子类里面编辑动画状态转移。\n为了实现武器拾取，我们都会在骨骼上放置插槽，当武器拾取之后，我们重新绑定父对象并设置Transform组件。只不过UE里面转移物体位置的函数，就自带可以填入插槽名称和Transform变化方式的参数。\n我们的武器需要生成子弹，这就需要创建一个子弹预制体以及子弹发射位置，在Unity中我们自然的完成这一动作，并用Instantiate进行实例化预制体，Instantiate是GameObject的方法，但是在UE中，我们用GetWorld()-&gt;SpawnActor&lt;&gt;()，并且我们如果要传入蓝图类，可以定义一个STSubclassOf&lt;AActor&gt;变量用于在编辑器里面传入蓝图类，然后我们把它当做预制体来生成。\n在Unity中我们可以用骨骼偏移来制作瞄准效果，UE中我们则使用Montage来在原本基础上再播放一个动画去覆盖原本动画。和Unity一样，动画文件里面可以放置通知，但是UE更多的是可以放置粒子特效什么的。Unity里面自动调用同名函数，而UE里面是在通知前面加上AnimNotify_作为前缀的方法，会自动调用。（UE是这样的，喜欢在各种地方加上前缀来标注，但是实际上用到的确实去除前缀后缀的属性、函数）\n其实UE用多了之后，会发现思路被UE的规则梳理过一遍之后，变得更清晰。当然在UE学习使用的过程中也会遇到各种各样意想不到的问题，这些在以后的文章中再分享~\n题外话用了UE的资产商店才知道优质的免费资源原来这么多，现在虽然虚幻商城全面转到了Fab上，但是免费资产赠送依然存在，并且据说周期缩短了，有时可以看到资产上面标注了对Unity的兼容性。\nFab商城链接：Fab\n","categories":["Tech"],"tags":["UE"]},{"title":"Hello World","url":"/2024/03/24/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","categories":["Other"],"tags":["Other"]},{"title":"比较混乱的一天","url":"/2025/08/01/Diary/2025-08-01%20%E6%AF%94%E8%BE%83%E6%B7%B7%E4%B9%B1%E7%9A%84%E4%B8%80%E5%A4%A9/","content":"\n      \n        9da77efeddab64331da760e89909db55eaf732a4889f1367c940a96e822d939da8f155ad8f5a8ce3a3b5e323c4829d8080d8855b2d3e4f183c805b9828241e158e85e589b8d953c81946d923a02a5be622bdc7653eb1217cd645ab2ab00bc16d2d9438641ff2c87e0b4a53b656b52ae56b3c1ba227b1c01de5df135ff86ff90a6a589df8efd8424c1350b53dbe173d635a89c80d1e9b0f6d60329c32d48ebc25644e00da99145ba659e7c50df2b823e6f5a4fe3ab9218bc2e3d8b33cc6001522f4261eb8a0217dabe566a3a2bd0f8f3c7e1d9c58d688cd8d9761c67d786ffb14c5c4ac457bfd4dce3d5daf55a7a8190e6538a8be115de8cac312083fd269a5a865cff2015d34b5f88b30c68f7ebf1d04b53dd795a7595c91de0135e2fa52dc84f7d3fed282ae93b4154b30feeaf0d58bfffb5e27e8a84b7337a9c6407de5386efac5ee5ddbb7499038b5aeac523138a3bc8bceef87136ff7a5084dd6ed4921b61e2f68759ad5cf15406095a456caad5be59e2d764d6735078bb3b92b3b04b4d940928b9947387c4f804f73efdadc2ad0af38ad9429e938dc20248ff649f044e00913d1ddf27d05e531d6863f8d06ec6f72bcd7e502fbaccfcb1a41d377828664f90fde04151b56796610038d5f03135b98c9a3a10dfc523e6ec20dc00a5331565817f59eb02afe385e62dfdb2bcb133e7b3f5ec73501d3b7d722bfed1acebf6ac85262b7d6d747f3e79cfff0e4f210882107d484aa877cbeff63165e214054f1d3a41a51aaba408b12da6e5d1290abfa46720b8e3c8e0123127bd0d74110b3351f3f58438affd403ad8a1bd5f5a0c4dab36971aca0bd6a61d0e4d454f6445db198957f4f1755aff9ad4f85f2e879a927016cfa10b1b37b1d6879f273598846bf71067ebe42c5fe60f571575505af132bcaff0f43f90cf158fb6585ec891f69a38ce8a3e45bbc8b3ce848fa93eda05f299cec2c26e62e24be7f2ea88150956433fc9b0e2567c5b721f068661fe076bd3e8185c3d1c282891ad79501c8f4a82c90a2fd22650d5b5dda583d79a4d3d53f1e9be735ff4dd61a0d23dca231215111d0acfc528de7f6028061f7fa10661841230aadf74057744bcc2b25cad5c49c88e972f149cd27bb0d62f8b3e625d7b298cae6efc3a31b11aaac206107b78bea73dd741c19620ea51ecca59b9969ca461f724a9d44eb54cbc0f70530283e1687ea11e9813c60eb10a6ff7e46bc70d18826d22540db1d7068d545baf90906317d040340312e2315aa27ed5a1065c4c4422ab277a4d1d7f6911a1bc94ea6b072d8edf2c832a3f9c157e0e2314827cfd8ccf19f679b4acbf990712921037a6876ce132740b02254a1cc788f7998cc324b85182c746b2245f2e6f764e3c3a8fc3dd4ad3394359e2184b83d8fa723d36af5ecae38eff23a82a4f7e8b2e0e2a4c29378a9bdbf49c9e16dfce4b64232cab5eb22346c0f1ded46cb863ce3a4d7819666be58a601a3b36b8f7430c970adffe3637987fa9414fbce2819dac1c552cf4fa174d62e52287a3f01798ad9d72cba9c58b79fa88f3edc04a6f7f2afa65b9068cbd66dfeb1f9bffd19e0071a794ee2f406304845436d010fc2fa2c673cdaeb3e8c2e2fbe3145b8af9d0be528445e2d63bf1eb8795e775cfa2fbbb1fed815542979d5023d73ae3b66368365e9feb5596e27b49405b3b20de671e165ef3e26a195940a091ea5f845199132942a831270de2cc33249b4ab572c3ee1e2259b6efe5fc0968a24857bd6269e775d11bb2aac19dfbf2d59a09c87155b94b7f4fdf4bbcb7ec9484bf07266987e9cb7d2edcc80412a3c1dcb11a675898a224c2d5dbbd83183597f4e1e3db620e0e44d296edb070a39479d0f3e53b42ab3d0e2d70feffdd5fda82286a3f96aa607bce215352c0de3372d4041946af1e08041ddf8d52b5512d3bfc5a313c723ced8c4aab27a8ad94232e800d6a095685aa44ad0e7f24133b8f37df26205158494896e4ee4bc8d9fcb9faa636c2c558546bc6f82206ca1c94dbdcfb7a8fd263d1857a2a5325edf252df8543695f40c65cc38eb2003c72e4fbee13cf7472dcab46799ba428819bba008576bf30ec335c800e5b83472f50ed9f9971320b044d2ae2bd0cc4051d4b47d5f65e67eaba1486983f1bd3703236cb2085fffe835cd2745d4ed131e1054ac9f58c67e0e289eb95b252a793f4d8fa2503007344b12e6c14f5821d8b8ba4138283d7602b6c672d53f62764c279d300a98e8dd8c3fe7bf8fd574db3360feab0d7b9da09b47678e36a4cc1fdb9bfbc8b47ca190e98845d2cd47a8219d4f6c57d56f2105ed65926c9079165e326cd6adb9f9d265edd28ec6cb58a9f6c643917b485b49c4dfbd91387f70eaad70111fec631ce4acb593df817e830e9400ea2b81622bf557373b17db3e657aee40b661bc4717fc6da20aecfc8400d8c86deebe49c5ca720d0d0925ba0a2106c41f29086292092406fc6414ebb6f4e3da8b76508cecc43b3c8a64122a10cef00619b5d0676c7c8753fc9588f301741770f216f9ad1eba2a1943ae7d6db19327b3acd190bbed05f00d120d293ef4bd9f5991dbe70507bd1c6dd18de1db7db520b74bcc4239ffd0e04c8adb434fe4485f1233cf4c02f4b2ff977ea3d2583590c23cc405a0915a2157ed88204604deee44e5b920eff6c344a90b39ee280700386e79f500df893c93f4a628d241660e11fe7bd15f4f9f558dd1c830a92e6dfb45e892250ee9468cbcad5dbeb2919daf338a80bd954fb4ca21606470582a60b82542e4b5cb7069c186381dff829121fbbfc79cbce436101b19422278905e12bc41cf34c4434d1f27cac5529e22e7c7c0dfcc7acb675e5f025936964567668b09f13765a7673c0dc0ff6949f2bbc5\n      \n      \n        \n          \n          \n            请输入与 Nervld Island™ 取得弱神经连接时的口令：\n          \n        \n        \n      \n    \n    ","categories":["Diary"],"tags":["Diary","🌧️","😕","🚩"]},{"title":"First-Diary","url":"/2025/07/31/Diary/First-Diary/","content":"从今天开始，我就要更新自己的博客啦？敲开心ヾ(≧▽≦*)o\n\n那么今天主要是完成了主题的构建，目前长这样(&#x2F;ω＼)：怎么样，感觉还是不错的，有点游戏的感觉反正一步步构建就变成这样啦，哈哈😄接下来主要就集中在：\n\n把之前的笔记整理成博客\n构建一下方便的流程，总结一下也发成笔记\n\n\n今天晚上一定把Obsidian这边弄好，加油ヾ(≧▽≦*)o\n就在我打算创建快捷启动hexo指令的时候\n铛铛铛~~\nfluent search居然突然更新成win11风格UI了，感觉稳定性大大增加，˶╹ꇴ╹˶！\n","categories":["Diary"],"tags":["🚩","OpenDiary"]},{"title":"测试图片","url":"/2025/07/31/Servld/test-img/","content":"\n      \n        2930486ea634497a7dab2c127e652411107260970cd792d3a2d507c3f902f64fb5dac66aab05b1603c87b85e2f19ac1c760f1e1acd89c3f79abaeb6db691d64133551d4e903bc106d2bf6f466338318240cc2ad8f4af0d2f2c6d429889c02a35aec0db319534d5dd4dbc2cd3384d6d54440d725695f6e77f13782cf4b82ecdcfaffc45cdbd54a171688dc5484b6967fe9e948975cd01c5a92f05c08e1e718372214df40afcb5ac069455bf1f0fe7364f6412e333816f9a3921f6cbc74bf73db5\n      \n      \n        \n          \n          \n            请输入与 Nervld Island™ 取得弱神经连接时的口令：\n          \n        \n        \n      \n    \n    ","categories":["Servld"],"tags":["Servld"]}]